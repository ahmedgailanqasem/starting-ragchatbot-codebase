# RAG Chatbot System - Complete Flow Diagram

## ğŸ—ï¸ System Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         RAG CHATBOT SYSTEM                              â”‚
â”‚                    Course Materials Q&A Assistant                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend   â”‚â—„â”€â”€â”€â”€â–ºâ”‚   Backend    â”‚â—„â”€â”€â”€â”€â–ºâ”‚   External   â”‚
â”‚  (Browser)   â”‚ HTTP â”‚  (FastAPI)   â”‚ API  â”‚   Services   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                       â”‚                     â”‚
     â”‚                       â”‚                     â”‚
  HTML/CSS/JS          Python/FastAPI      Anthropic Claude
  script.js            RAG System           ChromaDB (local)
  index.html           Vector Store         SentenceTransformer
```

---

## ğŸ“š PHASE 1: Document Processing & Initialization

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STARTUP: Application Initialization                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

./run.sh
   â”‚
   â”œâ”€â–º cd backend
   â”‚
   â””â”€â–º uv run uvicorn app:app --reload --port 8000
          â”‚
          â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  FastAPI Starts â”‚
   â”‚  app.py:88      â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  @app.on_event("startup")                    â”‚
   â”‚  Load documents from ../docs folder          â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  RAGSystem.add_course_folder()               â”‚
   â”‚  rag_system.py:52                            â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”œâ”€â”€â–º For each .txt/.pdf/.docx file
                      â”‚
                      â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  DocumentProcessor.process_course_document()                        â”‚
   â”‚  document_processor.py:97                                           â”‚
   â”‚                                                                      â”‚
   â”‚  Step 1: Read file (UTF-8)                                          â”‚
   â”‚          â”œâ”€ Extract Course Title (Line 1)                           â”‚
   â”‚          â”œâ”€ Extract Course Link (Line 2)                            â”‚
   â”‚          â””â”€ Extract Instructor (Line 3)                             â”‚
   â”‚                                                                      â”‚
   â”‚  Step 2: Parse Lessons                                              â”‚
   â”‚          â”œâ”€ Detect "Lesson N: Title" markers                        â”‚
   â”‚          â”œâ”€ Extract lesson numbers, titles, links                   â”‚
   â”‚          â””â”€ Group content by lesson                                 â”‚
   â”‚                                                                      â”‚
   â”‚  Step 3: Chunk Text (sentence-based)                                â”‚
   â”‚          â”œâ”€ Split into sentences (smart regex)                      â”‚
   â”‚          â”œâ”€ Combine until ~800 chars                                â”‚
   â”‚          â”œâ”€ Add 100 char overlap between chunks                     â”‚
   â”‚          â””â”€ Prefix: "Course X Lesson Y content: ..."                â”‚
   â”‚                                                                      â”‚
   â”‚  Output: Course object + List[CourseChunk]                          â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  VectorStore.add_course_metadata() & add_course_content()           â”‚
   â”‚  vector_store.py                                                    â”‚
   â”‚                                                                      â”‚
   â”‚  Collection 1: "course_catalog"                                     â”‚
   â”‚  â”œâ”€ Store: Course titles, instructors, links                        â”‚
   â”‚  â””â”€ Use: Course name resolution/matching                            â”‚
   â”‚                                                                      â”‚
   â”‚  Collection 2: "course_content"                                     â”‚
   â”‚  â”œâ”€ Store: Text chunks + metadata                                   â”‚
   â”‚  â”‚   {                                                               â”‚
   â”‚  â”‚     "content": "Course X Lesson Y: ...",                         â”‚
   â”‚  â”‚     "course_title": "Building Towards...",                       â”‚
   â”‚  â”‚     "lesson_number": 1,                                          â”‚
   â”‚  â”‚     "chunk_index": 5                                             â”‚
   â”‚  â”‚   }                                                               â”‚
   â”‚  â”‚                                                                   â”‚
   â”‚  â””â”€ Generate embeddings (SentenceTransformer: all-MiniLM-L6-v2)     â”‚
   â”‚      â””â”€ 384-dimensional vectors for semantic search                 â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  ChromaDB Persistent Storage         â”‚
   â”‚  Path: ./chroma_db/                  â”‚
   â”‚                                       â”‚
   â”‚  âœ… 4 Courses Loaded                 â”‚
   â”‚  âœ… 528 Chunks Stored                â”‚
   â”‚  âœ… 528 Vector Embeddings            â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SERVER READY: http://localhost:8000
```

---

## ğŸ’¬ PHASE 2: User Query Flow (Complete Journey)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  USER ACTION: Types "What is RAG?" and clicks Send                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FRONTEND - script.js                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  sendMessage() - Line 45                                                 â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â”œâ”€â–º Disable input field                                              â”‚
â”‚    â”œâ”€â–º Add user message bubble to chat                                  â”‚
â”‚    â”œâ”€â–º Show loading animation (3 dots)                                  â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â””â”€â–º POST /api/query                                                  â”‚
â”‚        Headers: Content-Type: application/json                          â”‚
â”‚        Body: {                                                           â”‚
â”‚          "query": "What is RAG?",                                        â”‚
â”‚          "session_id": null  // First message                           â”‚
â”‚        }                                                                 â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ HTTP POST
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BACKEND - app.py:56                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  @app.post("/api/query")                                                 â”‚
â”‚  async def query_documents(request: QueryRequest)                        â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â”œâ”€â–º Check session_id                                                 â”‚
â”‚    â”‚   â””â”€â–º None? Create new: "session_abc123"                           â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â””â”€â–º Call: rag_system.query(query, session_id)                        â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  RAG SYSTEM - rag_system.py:102                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  query(query, session_id)                                                â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â”œâ”€â–º Build prompt:                                                    â”‚
â”‚    â”‚   "Answer this question about course materials: What is RAG?"      â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â”œâ”€â–º Get conversation history (session_manager)                       â”‚
â”‚    â”‚   â””â”€â–º First message? Returns None                                  â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â””â”€â–º Call: ai_generator.generate_response()                           â”‚
â”‚        Parameters:                                                       â”‚
â”‚        â”œâ”€ query: prompt                                                 â”‚
â”‚        â”œâ”€ conversation_history: None (or previous Q&A)                  â”‚
â”‚        â”œâ”€ tools: [search_course_content tool definition]                â”‚
â”‚        â””â”€ tool_manager: ToolManager instance                            â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI GENERATOR - ai_generator.py:43                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  generate_response()                                                     â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â”œâ”€â–º Build system prompt with context                                 â”‚
â”‚    â”‚   System: "You are an AI assistant specialized in course           â”‚
â”‚    â”‚            materials... Use search tool for course questions...    â”‚
â”‚    â”‚            One search per query maximum..."                        â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â””â”€â–º API CALL #1 to Anthropic                                         â”‚
â”‚        {                                                                 â”‚
â”‚          "model": "claude-sonnet-4-20250514",                            â”‚
â”‚          "temperature": 0,                                               â”‚
â”‚          "max_tokens": 800,                                              â”‚
â”‚          "messages": [                                                   â”‚
â”‚            {"role": "user", "content": "Answer: What is RAG?"}           â”‚
â”‚          ],                                                              â”‚
â”‚          "system": "You are an AI assistant...",                         â”‚
â”‚          "tools": [{                                                     â”‚
â”‚            "name": "search_course_content",                              â”‚
â”‚            "description": "Search course materials...",                  â”‚
â”‚            "input_schema": {                                             â”‚
â”‚              "properties": {                                             â”‚
â”‚                "query": {...},                                           â”‚
â”‚                "course_name": {...},                                     â”‚
â”‚                "lesson_number": {...}                                    â”‚
â”‚              }                                                            â”‚
â”‚            }                                                              â”‚
â”‚          }],                                                             â”‚
â”‚          "tool_choice": {"type": "auto"}                                 â”‚
â”‚        }                                                                 â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ HTTPS POST
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ANTHROPIC CLAUDE API                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  Claude analyzes:                                                        â”‚
â”‚  â”œâ”€ User Question: "What is RAG?"                                        â”‚
â”‚  â”œâ”€ System Prompt: "Use search tool for course-specific questions"      â”‚
â”‚  â””â”€ Available Tools: search_course_content                              â”‚
â”‚                                                                          â”‚
â”‚  Claude Decision:                                                        â”‚
â”‚  "This question is about course content â†’ I should search"              â”‚
â”‚                                                                          â”‚
â”‚  Response: stop_reason = "tool_use"                                      â”‚
â”‚  {                                                                       â”‚
â”‚    "content": [                                                          â”‚
â”‚      {                                                                   â”‚
â”‚        "type": "tool_use",                                               â”‚
â”‚        "id": "toolu_01ABC123",                                           â”‚
â”‚        "name": "search_course_content",                                  â”‚
â”‚        "input": {                                                        â”‚
â”‚          "query": "RAG retrieval augmented generation"                   â”‚
â”‚        }                                                                 â”‚
â”‚      }                                                                   â”‚
â”‚    ]                                                                     â”‚
â”‚  }                                                                       â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ Response returned
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI GENERATOR - ai_generator.py:89                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  _handle_tool_execution()                                                â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â”œâ”€â–º Detect: stop_reason == "tool_use"                                â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â”œâ”€â–º Add Claude's tool request to conversation:                       â”‚
â”‚    â”‚   messages.append({                                                â”‚
â”‚    â”‚     "role": "assistant",                                            â”‚
â”‚    â”‚     "content": [tool_use_block]                                     â”‚
â”‚    â”‚   })                                                                â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â””â”€â–º Execute tool via ToolManager                                     â”‚
â”‚        tool_manager.execute_tool(                                        â”‚
â”‚          "search_course_content",                                        â”‚
â”‚          query="RAG retrieval augmented generation"                      â”‚
â”‚        )                                                                 â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TOOL MANAGER - search_tools.py:135                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  execute_tool(tool_name, **kwargs)                                       â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â””â”€â–º Find tool: tools["search_course_content"]                        â”‚
â”‚        â”‚                                                                 â”‚
â”‚        â””â”€â–º Call: CourseSearchTool.execute(                              â”‚
â”‚              query="RAG retrieval augmented generation"                  â”‚
â”‚            )                                                             â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  COURSE SEARCH TOOL - search_tools.py:52                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  execute(query, course_name=None, lesson_number=None)                    â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â””â”€â–º Call: vector_store.search(                                       â”‚
â”‚          query="RAG retrieval augmented generation",                     â”‚
â”‚          course_name=None,                                               â”‚
â”‚          lesson_number=None                                              â”‚
â”‚        )                                                                 â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  VECTOR STORE - vector_store.py:61                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  search(query, course_name, lesson_number)                               â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â”œâ”€â–º No course filter â†’ Skip resolution                               â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â”œâ”€â–º Build filter: {} (empty - search all)                            â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â””â”€â–º ChromaDB Query:                                                  â”‚
â”‚        course_content.query(                                             â”‚
â”‚          query_texts=["RAG retrieval augmented generation"],             â”‚
â”‚          n_results=5,  // MAX_RESULTS config                             â”‚
â”‚          where={}      // No filters                                     â”‚
â”‚        )                                                                 â”‚
â”‚                                                                          â”‚
â”‚        ChromaDB Process:                                                 â”‚
â”‚        â”œâ”€â–º Embed query using SentenceTransformer                        â”‚
â”‚        â”‚   "RAG retrieval..." â†’ [0.23, -0.15, 0.67, ...] (384-dim)      â”‚
â”‚        â”‚                                                                 â”‚
â”‚        â”œâ”€â–º Compare with stored embeddings (cosine similarity)           â”‚
â”‚        â”‚   â”œâ”€ Chunk 1: similarity = 0.89                                â”‚
â”‚        â”‚   â”œâ”€ Chunk 2: similarity = 0.82                                â”‚
â”‚        â”‚   â””â”€ ... (528 chunks compared)                                 â”‚
â”‚        â”‚                                                                 â”‚
â”‚        â””â”€â–º Return top 5 most similar chunks                             â”‚
â”‚                                                                          â”‚
â”‚        Results:                                                          â”‚
â”‚        {                                                                 â”‚
â”‚          "documents": [                                                  â”‚
â”‚            "Course Building Towards Computer Use Lesson 4 content:       â”‚
â”‚             RAG stands for Retrieval Augmented Generation...",           â”‚
â”‚            "Course AI Engineering Lesson 2 content: Retrieval            â”‚
â”‚             Augmented Generation is a technique...",                     â”‚
â”‚            ...                                                           â”‚
â”‚          ],                                                              â”‚
â”‚          "metadatas": [                                                  â”‚
â”‚            {"course_title": "Building Towards...", "lesson_number": 4},  â”‚
â”‚            {"course_title": "AI Engineering", "lesson_number": 2},       â”‚
â”‚            ...                                                           â”‚
â”‚          ],                                                              â”‚
â”‚          "distances": [0.23, 0.45, 0.58, 0.61, 0.64]                     â”‚
â”‚        }                                                                 â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ SearchResults object
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  COURSE SEARCH TOOL - search_tools.py:88                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  _format_results(results)                                                â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â”œâ”€â–º For each result:                                                 â”‚
â”‚    â”‚   â”œâ”€ Build header: "[Course Title - Lesson N]"                     â”‚
â”‚    â”‚   â”œâ”€ Track source: "Course Title - Lesson N"                       â”‚
â”‚    â”‚   â””â”€ Combine: header + content                                     â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â”œâ”€â–º Store sources in self.last_sources                               â”‚
â”‚    â”‚   ["Building Towards Computer Use - Lesson 4",                     â”‚
â”‚    â”‚    "AI Engineering - Lesson 2", ...]                               â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â””â”€â–º Return formatted string:                                         â”‚
â”‚        "[Building Towards Computer Use - Lesson 4]                       â”‚
â”‚         RAG stands for Retrieval Augmented Generation...                 â”‚
â”‚                                                                          â”‚
â”‚         [AI Engineering - Lesson 2]                                      â”‚
â”‚         Retrieval Augmented Generation is a technique..."                â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ Tool result string
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI GENERATOR - ai_generator.py:122                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  _handle_tool_execution() (continued)                                    â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â”œâ”€â–º Build tool_results:                                              â”‚
â”‚    â”‚   [{                                                                â”‚
â”‚    â”‚     "type": "tool_result",                                          â”‚
â”‚    â”‚     "tool_use_id": "toolu_01ABC123",                                â”‚
â”‚    â”‚     "content": "[Building Towards...]\nRAG stands for..."           â”‚
â”‚    â”‚   }]                                                                â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â”œâ”€â–º Add tool results to conversation:                                â”‚
â”‚    â”‚   messages.append({"role": "user", "content": tool_results})        â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â”‚   Full conversation now:                                            â”‚
â”‚    â”‚   [                                                                 â”‚
â”‚    â”‚     {"role": "user", "content": "Answer: What is RAG?"},            â”‚
â”‚    â”‚     {"role": "assistant", "content": [tool_use_block]},             â”‚
â”‚    â”‚     {"role": "user", "content": [tool_result_block]}                â”‚
â”‚    â”‚   ]                                                                 â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â””â”€â–º API CALL #2 to Anthropic (WITHOUT tools)                         â”‚
â”‚        {                                                                 â”‚
â”‚          "model": "claude-sonnet-4-20250514",                            â”‚
â”‚          "temperature": 0,                                               â”‚
â”‚          "max_tokens": 800,                                              â”‚
â”‚          "messages": [full conversation with tool results],              â”‚
â”‚          "system": "You are an AI assistant..."                          â”‚
â”‚          // NO TOOLS parameter this time                                 â”‚
â”‚        }                                                                 â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ HTTPS POST
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ANTHROPIC CLAUDE API (Second Call)                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  Claude receives:                                                        â”‚
â”‚  â”œâ”€ Original question: "What is RAG?"                                    â”‚
â”‚  â”œâ”€ Tool results: Search results with RAG explanations from courses     â”‚
â”‚  â””â”€ System prompt: "Synthesize results, be concise, no meta-commentary" â”‚
â”‚                                                                          â”‚
â”‚  Claude processes:                                                       â”‚
â”‚  â”œâ”€ Reads search results from multiple courses                          â”‚
â”‚  â”œâ”€ Identifies key information about RAG                                â”‚
â”‚  â””â”€ Synthesizes into coherent, brief answer                             â”‚
â”‚                                                                          â”‚
â”‚  Response: stop_reason = "end_turn"                                      â”‚
â”‚  {                                                                       â”‚
â”‚    "content": [                                                          â”‚
â”‚      {                                                                   â”‚
â”‚        "type": "text",                                                   â”‚
â”‚        "text": "RAG (Retrieval Augmented Generation) is a technique     â”‚
â”‚                 that combines information retrieval with text            â”‚
â”‚                 generation. It searches a knowledge base for relevant    â”‚
â”‚                 documents, then uses those as context to generate        â”‚
â”‚                 accurate, grounded responses. This approach helps AI     â”‚
â”‚                 provide factual answers based on specific source         â”‚
â”‚                 material rather than relying solely on training data."   â”‚
â”‚      }                                                                   â”‚
â”‚    ]                                                                     â”‚
â”‚  }                                                                       â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ Response returned
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI GENERATOR - ai_generator.py:135                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  return final_response.content[0].text                                   â”‚
â”‚  â†’ "RAG (Retrieval Augmented Generation) is a technique..."              â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  RAG SYSTEM - rag_system.py:130-140                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  query() (continued)                                                     â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â”œâ”€â–º Get sources from tool_manager:                                   â”‚
â”‚    â”‚   sources = tool_manager.get_last_sources()                        â”‚
â”‚    â”‚   â†’ ["Building Towards Computer Use - Lesson 4",                   â”‚
â”‚    â”‚      "AI Engineering - Lesson 2", ...]                             â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â”œâ”€â–º Reset sources (clear for next query)                             â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â”œâ”€â–º Save to session history:                                         â”‚
â”‚    â”‚   session_manager.add_exchange(                                     â”‚
â”‚    â”‚     session_id,                                                     â”‚
â”‚    â”‚     query="What is RAG?",                                           â”‚
â”‚    â”‚     response="RAG (Retrieval Augmented...)"                         â”‚
â”‚    â”‚   )                                                                 â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â””â”€â–º Return: (response, sources)                                      â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BACKEND - app.py:68                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  query_documents() (continued)                                           â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â””â”€â–º Return JSON:                                                     â”‚
â”‚        {                                                                 â”‚
â”‚          "answer": "RAG (Retrieval Augmented Generation) is...",         â”‚
â”‚          "sources": [                                                    â”‚
â”‚            "Building Towards Computer Use - Lesson 4",                   â”‚
â”‚            "AI Engineering - Lesson 2"                                   â”‚
â”‚          ],                                                              â”‚
â”‚          "session_id": "session_abc123"                                  â”‚
â”‚        }                                                                 â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ HTTP 200 OK
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FRONTEND - script.js:76                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  sendMessage() (continued)                                               â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â”œâ”€â–º Parse JSON response                                              â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â”œâ”€â–º Save session_id for future queries                               â”‚
â”‚    â”‚   currentSessionId = "session_abc123"                              â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â”œâ”€â–º Remove loading animation                                         â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â””â”€â–º Display response:                                                â”‚
â”‚        addMessage(                                                       â”‚
â”‚          content: data.answer,                                           â”‚
â”‚          type: 'assistant',                                              â”‚
â”‚          sources: data.sources                                           â”‚
â”‚        )                                                                 â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FRONTEND - script.js:113                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  addMessage(content, type, sources)                                      â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â”œâ”€â–º Convert markdown to HTML (marked.parse)                          â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â”œâ”€â–º Create message bubble:                                           â”‚
â”‚    â”‚   <div class="message assistant">                                  â”‚
â”‚    â”‚     <div class="message-content">                                  â”‚
â”‚    â”‚       RAG (Retrieval Augmented Generation) is...                   â”‚
â”‚    â”‚     </div>                                                          â”‚
â”‚    â”‚     <details class="sources-collapsible">                          â”‚
â”‚    â”‚       <summary>Sources</summary>                                   â”‚
â”‚    â”‚       Building Towards Computer Use - Lesson 4,                    â”‚
â”‚    â”‚       AI Engineering - Lesson 2                                    â”‚
â”‚    â”‚     </details>                                                     â”‚
â”‚    â”‚   </div>                                                            â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â”œâ”€â–º Append to chat container                                         â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â”œâ”€â–º Auto-scroll to bottom                                            â”‚
â”‚    â”‚                                                                     â”‚
â”‚    â””â”€â–º Re-enable input field                                            â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  USER SEES: Answer displayed in chat with expandable sources           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Data Flow Summary

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚â”€â”€â”€â”€â–ºâ”‚ Frontend â”‚â”€â”€â”€â”€â–ºâ”‚ FastAPI  â”‚â”€â”€â”€â”€â–ºâ”‚   RAG    â”‚
â”‚  Query   â”‚     â”‚ (JS)     â”‚     â”‚ Endpoint â”‚     â”‚  System  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                          â”‚
                                                          â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚                                             â”‚
                 â–¼                                             â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Session Mgr  â”‚                            â”‚ AI Generator   â”‚
         â”‚ Get History  â”‚                            â”‚ (with tools)   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                              â”‚
                                                              â–¼
                                                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                     â”‚ Claude API #1   â”‚
                                                     â”‚ Decides: Search â”‚
                                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                              â”‚
                                                              â–¼
                                                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                     â”‚  Tool Manager   â”‚
                                                     â”‚  Execute Tool   â”‚
                                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                              â”‚
                                                              â–¼
                                                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                     â”‚ Vector Store    â”‚
                                                     â”‚ Semantic Search â”‚
                                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                              â”‚
                                                              â–¼
                                                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                     â”‚   ChromaDB      â”‚
                                                     â”‚ Find Similar    â”‚
                                                     â”‚   Embeddings    â”‚
                                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                              â”‚
                                                     Results  â”‚
                                                              â–¼
                                                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                     â”‚ Claude API #2   â”‚
                                                     â”‚ Synthesize      â”‚
                                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                              â”‚
                                                      Answer  â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Session Mgr    â”‚â”€â”€â”€â”€â–ºâ”‚   RAG    â”‚â”€â”€â”€â”€â–ºâ”‚ FastAPI  â”‚â”€â”€â”€â”€â–ºâ”‚ Frontend â”‚
â”‚  Save Exchange  â”‚     â”‚  System  â”‚     â”‚ Response â”‚     â”‚ Display  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”¢ Key Metrics & Configuration

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CONFIGURATION (config.py)                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  Document Processing:                                          â”‚
â”‚  â”œâ”€ CHUNK_SIZE: 800 characters                                â”‚
â”‚  â”œâ”€ CHUNK_OVERLAP: 100 characters                             â”‚
â”‚  â””â”€ Supported: .txt, .pdf, .docx                              â”‚
â”‚                                                                â”‚
â”‚  Vector Search:                                                â”‚
â”‚  â”œâ”€ EMBEDDING_MODEL: all-MiniLM-L6-v2                         â”‚
â”‚  â”œâ”€ Vector Dimensions: 384                                    â”‚
â”‚  â”œâ”€ MAX_RESULTS: 5 chunks per search                          â”‚
â”‚  â””â”€ CHROMA_PATH: ./chroma_db                                  â”‚
â”‚                                                                â”‚
â”‚  AI Generation:                                                â”‚
â”‚  â”œâ”€ ANTHROPIC_MODEL: claude-sonnet-4-20250514                 â”‚
â”‚  â”œâ”€ Temperature: 0 (deterministic)                            â”‚
â”‚  â””â”€ Max Tokens: 800                                            â”‚
â”‚                                                                â”‚
â”‚  Session:                                                      â”‚
â”‚  â””â”€ MAX_HISTORY: 2 previous Q&A pairs                         â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CURRENT DEPLOYMENT                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  âœ… Courses Loaded: 4                                          â”‚
â”‚  âœ… Text Chunks: 528                                           â”‚
â”‚  âœ… Vector Embeddings: 528                                     â”‚
â”‚                                                                â”‚
â”‚  Course Breakdown:                                             â”‚
â”‚  â”œâ”€ Advanced Retrieval for AI with Chroma: 90 chunks          â”‚
â”‚  â”œâ”€ Prompt Compression and Query Optimization: 121 chunks     â”‚
â”‚  â”œâ”€ Building Towards Computer Use: 153 chunks                 â”‚
â”‚  â””â”€ MCP: Build Rich-Context AI Apps: 164 chunks               â”‚
â”‚                                                                â”‚
â”‚  Server:                                                       â”‚
â”‚  â”œâ”€ URL: http://localhost:8000                                â”‚
â”‚  â”œâ”€ API Docs: http://localhost:8000/docs                      â”‚
â”‚  â””â”€ Status: âœ… RUNNING                                         â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Complete Request/Response Cycle

```
Time: 0ms
â””â”€â–º User types and clicks send

Time: 50ms
â””â”€â–º Frontend: POST /api/query
    â””â”€â–º Backend receives request

Time: 100ms
â””â”€â–º RAGSystem: Get conversation history
    â””â”€â–º SessionManager: Returns previous Q&A (if exists)

Time: 200ms
â””â”€â–º AIGenerator: First Claude API call
    â””â”€â–º Anthropic: Claude receives prompt + tools

Time: 800ms
â””â”€â–º Claude decides to use search tool
    â””â”€â–º Returns tool_use response

Time: 850ms
â””â”€â–º ToolManager: Execute search_course_content
    â””â”€â–º VectorStore: Semantic search query

Time: 900ms
â””â”€â–º SentenceTransformer: Embed query text
    â””â”€â–º Generate 384-dimensional vector

Time: 1000ms
â””â”€â–º ChromaDB: Compare embeddings
    â””â”€â–º Cosine similarity across 528 chunks
    â””â”€â–º Return top 5 matches

Time: 1100ms
â””â”€â–º CourseSearchTool: Format results
    â””â”€â–º Build "[Course - Lesson] content" format
    â””â”€â–º Store sources

Time: 1200ms
â””â”€â–º AIGenerator: Second Claude API call
    â””â”€â–º Send tool results to Claude

Time: 2500ms
â””â”€â–º Claude synthesizes final answer
    â””â”€â–º Returns text response

Time: 2600ms
â””â”€â–º RAGSystem: Save to session history
    â””â”€â–º SessionManager: Store Q&A pair

Time: 2650ms
â””â”€â–º FastAPI: Return JSON response
    â””â”€â–º Frontend receives data

Time: 2700ms
â””â”€â–º Frontend: Display message
    â””â”€â–º User sees answer with sources

Total Time: ~2.7 seconds
```

---

## ğŸ¯ System Capabilities

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  WHAT THE SYSTEM CAN DO                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  âœ… Process multiple course documents                          â”‚
â”‚  âœ… Extract structured metadata (title, instructor, lessons)   â”‚
â”‚  âœ… Chunk content intelligently (sentence-based + overlap)     â”‚
â”‚  âœ… Generate semantic embeddings                               â”‚
â”‚  âœ… Store in persistent vector database                        â”‚
â”‚  âœ… Perform semantic search across all content                 â”‚
â”‚  âœ… Filter by course name (fuzzy matching)                     â”‚
â”‚  âœ… Filter by lesson number                                    â”‚
â”‚  âœ… Maintain conversation context (session-based)              â”‚
â”‚  âœ… Let Claude decide when to search autonomously              â”‚
â”‚  âœ… Synthesize multiple sources into coherent answers          â”‚
â”‚  âœ… Provide source citations                                   â”‚
â”‚  âœ… Handle general knowledge without searching                 â”‚
â”‚  âœ… Web-based chat interface                                   â”‚
â”‚  âœ… RESTful API with OpenAPI docs                              â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
